$(document).ready(function(){const b=$("#cnblogs_post_body"),c=new myTools;if(b.length===0){return}const a=b.find(":header");if(a.length===0){return}let topLev=(b.find("h1").length?1:false)||(b.find("h2").length?2:false)||(b.find("h3").length?3:false)||(b.find("h4").length?4:false)||(b.find("h5").length?5:false)||(b.find("h6").length?6:false);if(!topLev||topLev>4){return}let hScale={};for(let i=topLev,j=1;i<6;i++,j=j-0.1){hScale["h"+i]=j.toFixed(1)}let topHT="h"+topLev,topTwHT="h"+(topLev+1),topHTN=0,topTwHTN=0,bw=b.outerWidth(false);a.each(function(){let u=$(this),v=u[0],ht=v.tagName.toLowerCase(),ln=1,rn=0,style="",icon="";if(ht==="h6"){return true}u.attr("tid","tid-"+c.randomString(6));let thText=c.HTMLEncode(u.text()),headerStyle="transform:scale("+hScale[ht]+");";switch(ht){case topHT:topHTN++;ln=topHTN;topTwHTN=0;break;case topTwHT:style="position: relative;left: -5px;";topTwHTN++;ln=topHTN;rn=topTwHTN;headerStyle+="left: -"+(((1-hScale[ht])*bw/2)-((1-hScale[ht])*10*8)).toFixed(2)+"px;";break;default:style="visibility: hidden;";icon='<span class="iconfont icon-weibiaoti22 titleIcon" style="left: '+(40-((1-hScale[ht]-0.1)*80)).toFixed(2)+'px;"></span>';headerStyle+="left: -"+(((1-hScale[ht])*bw/2)-((1-hScale[ht])*10*8)).toFixed(2)+"px;";break}u.wrap('<span title-type="'+ht+'" class="header__span" style="'+headerStyle+'"></span>').text("").addClass("header__dev");var d='<span style="'+style+'"><b class="dev__fe"><i>'+ln+"</i></b>";d+='<span class="dev__slash">|</span>';d+='<b class="dev__ux"><i>'+rn+"</i></b></span>";d+=icon+'<b class="dev__developer"><span class="dev__title">'+thText+"</span></b>";u.append(d);u.parent(".header__span").hover(function(){$(this).find(".header__dev").addClass("header__dev--open")},function(){$(this).find(".header__dev").removeClass("header__dev--open")})})});